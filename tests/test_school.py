''' 
    all of these tests were generated by ChatGPT when provided with school.py
    as an input
'''

import pytest
from src import school

def test_add_student_within_limit() -> None :
    teacher = school.Teacher("John Doe")
    students = [school.Student(f"Student_{i}") for i in range(school.MAX_CLASS_SIZE - 1)]
    classroom = school.Classroom(teacher, students, "Math")
    
    new_student = school.Student("New Student")
    classroom.add_student(new_student)

    assert new_student in classroom.students


def test_add_student_exceed_limit() -> None :
    teacher = school.Teacher("John Doe")
    students = [school.Student(f"Student_{i}") for i in range(school.MAX_CLASS_SIZE)]
    classroom = school.Classroom(teacher, students, "Math")
    
    with pytest.raises(school.TooManyStudents):
        new_student = school.Student("New Student")
        classroom.add_student(new_student)


def test_remove_student() -> None :
    teacher = school.Teacher("John Doe")
    students = [school.Student(f"Student_{i}") for i in range(school.MAX_CLASS_SIZE - 1)]
    classroom = school.Classroom(teacher, students, "Math")

    student_to_remove = students[0]
    classroom.remove_student(student_to_remove.name)

    assert student_to_remove not in classroom.students


def test_change_teacher() -> None :
    old_teacher = school.Teacher("Old Teacher")
    students = [school.Student(f"Student_{i}") for i in range(school.MAX_CLASS_SIZE - 1)]
    classroom = school.Classroom(old_teacher, students, "Math")

    new_teacher = school.Teacher("New Teacher")
    classroom.change_teacher(new_teacher)

    assert classroom.teacher == new_teacher
